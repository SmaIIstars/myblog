<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=2"
    />
    <meta name="theme-color" content="#222" />
    <meta name="generator" content="Hexo 5.2.0" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon-next.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32-next.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16-next.png"
    />
    <link rel="mask-icon" href="/images/logo.svg" color="#222" />

    <link rel="stylesheet" href="/css/main.css" />

    <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css" />

    <script id="hexo-configurations">
      var NexT = window.NexT || {};
      var CONFIG = {
        hostname: "example.com",
        root: "/",
        scheme: "Pisces",
        version: "7.8.0",
        exturl: false,
        sidebar: {
          position: "left",
          display: "post",
          padding: 18,
          offset: 12,
          onmobile: false,
        },
        copycode: { enable: false, show_result: false, style: null },
        back2top: { enable: true, sidebar: false, scrollpercent: true },
        bookmark: { enable: false, color: "#222", save: "auto" },
        fancybox: false,
        mediumzoom: false,
        lazyload: false,
        pangu: false,
        comments: {
          style: "tabs",
          active: null,
          storage: true,
          lazyload: false,
          nav: null,
        },
        algolia: {
          hits: { per_page: 10 },
          labels: {
            input_placeholder: "Search for Posts",
            hits_empty: "We didn't find any results for the search: ${query}",
            hits_stats: "${hits} results found in ${time} ms",
          },
        },
        localsearch: {
          enable: false,
          trigger: "auto",
          top_n_per_article: 1,
          unescape: false,
          preload: false,
        },
        motion: {
          enable: true,
          async: false,
          transition: {
            post_block: "fadeIn",
            post_header: "slideDownIn",
            post_body: "slideDownIn",
            coll_header: "slideLeftIn",
            sidebar: "slideUpIn",
          },
        },
      };
    </script>

    <meta property="og:type" content="website" />
    <meta property="og:title" content="Hexo" />
    <meta property="og:url" content="http://example.com/index.html" />
    <meta property="og:site_name" content="Hexo" />
    <meta property="og:locale" content="en_US" />
    <meta property="article:author" content="John Doe" />
    <meta name="twitter:card" content="summary" />

    <link rel="canonical" href="http://example.com/" />

    <script id="page-configurations">
      // https://hexo.io/docs/variables.html
      CONFIG.page = {
        sidebar: "",
        isHome: true,
        isPost: false,
        lang: "en",
      };
    </script>

    <title>Hexo</title>

    <noscript>
      <style>
        .use-motion .brand,
        .use-motion .menu-item,
        .sidebar-inner,
        .use-motion .post-block,
        .use-motion .pagination,
        .use-motion .comments,
        .use-motion .post-header,
        .use-motion .post-body,
        .use-motion .collection-header {
          opacity: initial;
        }

        .use-motion .site-title,
        .use-motion .site-subtitle {
          opacity: initial;
          top: initial;
        }

        .use-motion .logo-line-before i {
          left: initial;
        }
        .use-motion .logo-line-after i {
          right: initial;
        }
      </style>
    </noscript>
  </head>

  <body itemscope itemtype="http://schema.org/WebPage">
    <div class="container use-motion">
      <div class="headband"></div>

      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner">
          <div class="site-brand-container">
            <div class="site-nav-toggle">
              <div class="toggle" aria-label="Toggle navigation bar">
                <span class="toggle-line toggle-line-first"></span>
                <span class="toggle-line toggle-line-middle"></span>
                <span class="toggle-line toggle-line-last"></span>
              </div>
            </div>

            <div class="site-meta">
              <a href="/" class="brand" rel="start">
                <span class="logo-line-before"><i></i></span>
                <h1 class="site-title">Hexo</h1>
                <span class="logo-line-after"><i></i></span>
              </a>
            </div>

            <div class="site-nav-right">
              <div class="toggle popup-trigger"></div>
            </div>
          </div>

          <nav class="site-nav">
            <ul id="menu" class="main-menu menu">
              <li class="menu-item menu-item-home">
                <a href="/" rel="section"
                  ><i class="fa fa-home fa-fw"></i>Home</a
                >
              </li>
              <li class="menu-item menu-item-archives">
                <a href="/archives/" rel="section"
                  ><i class="fa fa-archive fa-fw"></i>Archives</a
                >
              </li>
            </ul>
          </nav>
        </div>
      </header>

      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        <span>0%</span>
      </div>

      <main class="main">
        <div class="main-inner">
          <div class="content-wrap">
            <div class="content index posts-expand">
              <article
                itemscope
                itemtype="http://schema.org/Article"
                class="post-block"
                lang="en"
              >
                <link
                  itemprop="mainEntityOfPage"
                  href="http://example.com/2020/12/16/React/"
                />

                <span
                  hidden
                  itemprop="author"
                  itemscope
                  itemtype="http://schema.org/Person"
                >
                  <meta
                    itemprop="image"
                    content="https://cdn.jsdelivr.net/gh/SmaIIstars/imgCDN/myBlog/MAP-DESK-1080 (197).jpg"
                  />
                  <meta itemprop="name" content="John Doe" />
                  <meta itemprop="description" content="" />
                </span>

                <span
                  hidden
                  itemprop="publisher"
                  itemscope
                  itemtype="http://schema.org/Organization"
                >
                  <meta itemprop="name" content="Hexo" />
                </span>
                <header class="post-header">
                  <h2 class="post-title" itemprop="name headline">
                    <a
                      href="/2020/12/16/React/"
                      class="post-title-link"
                      itemprop="url"
                      >React</a
                    >
                  </h2>

                  <div class="post-meta">
                    <span class="post-meta-item">
                      <span class="post-meta-item-icon">
                        <i class="far fa-calendar"></i>
                      </span>
                      <span class="post-meta-item-text">Posted on</span>

                      <time
                        title="Created: 2020-12-16 11:49:46 / Modified: 12:03:10"
                        itemprop="dateCreated datePublished"
                        datetime="2020-12-16T11:49:46+08:00"
                        >2020-12-16</time
                      >
                    </span>
                  </div>
                </header>

                <div class="post-body" itemprop="articleBody">
                  <h1 id="React">
                    <a href="#React" class="headerlink" title="React"></a>React
                  </h1>
                  <h2 id="Lifecycles">
                    <a
                      href="#Lifecycles"
                      class="headerlink"
                      title="Lifecycles"
                    ></a
                    >Lifecycles
                  </h2>
                  <p>
                    <img
                      src="https://cdn.jsdelivr.net/gh/smaIIstars/CDN@master/React/react16-lifecycle.png"
                      alt="图例"
                    />
                  </p>
                  <ul>
                    <li>
                      <p>
                        getDerivedStateFromProps: Keeping the props always is
                        the same as New props
                      </p>
                    </li>
                    <li>
                      <p>
                        shouldComponentUpdate: We can control the components
                        which should be re rendered
                      </p>
                    </li>
                    <li>
                      <p>getSnapshotBeforeUpdate: The snapshot before update</p>
                    </li>
                  </ul>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; Life cycle is for class components, and function components are simulated by hooks</span><br><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class Cpn extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;我是Cpn组件&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    console.log(&quot;componentWillUnmount called&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 1.init state</span><br><span class="line">   * 2.bind this pointer</span><br><span class="line">   *&#x2F;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      count: 0,</span><br><span class="line">      isShow: false,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    console.log(&quot;constructor called&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(&quot;render called&quot;);</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;span&gt;App&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;h2&gt;Counter: &#123;this.state.count&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; this.increment()&#125;&gt;+1&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;hr &#x2F;&gt;</span><br><span class="line">        &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; this.changeCpnShow()&#125;&gt;change&lt;&#x2F;button&gt;</span><br><span class="line">        &#123;this.state.isShow &amp;&amp; &lt;Cpn &#x2F;&gt;&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeCpnShow() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      isShow: !this.state.isShow,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  increment() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      count: this.state.count + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 1.Operation dependent on DOM</span><br><span class="line">   * 2.Send the network(Vue-&gt;created)</span><br><span class="line">   * 3.add some subscribe(unsubscribe in componentWillUnmount)</span><br><span class="line">   *&#x2F;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    console.log(&quot;componentDidMount called&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 1.Be called after component updated</span><br><span class="line">   * 2.Compare the props</span><br><span class="line">   *&#x2F;</span><br><span class="line">  componentDidUpdate(prevProps, prevState, snapshot) &#123;</span><br><span class="line">    console.log(&quot;componentDidUpdate called&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h3 id="shouldComponentUpdate">
                    <a
                      href="#shouldComponentUpdate"
                      class="headerlink"
                      title="shouldComponentUpdate"
                    ></a
                    >shouldComponentUpdate
                  </h3>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; Use the shouldComponentUpdate controls the render function</span><br><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">      message: &quot;Hello World&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(&quot;App called&quot;);</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;counter: &#123;this.state.counter&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;h2&gt;message: &#123;this.state.message&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.increment();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          +</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.changeText();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          ChangeText</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Determine whether the component is updated</span><br><span class="line">  shouldComponentUpdate(nextProps, nextState) &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(&quot;nextState&quot;, nextState);</span><br><span class="line">    if (this.state.counter !&#x3D;&#x3D; nextState.counter) return true;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  increment() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      counter: this.state.counter + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeText() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      message: &quot;Small Stars&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h3 id="super">
                    <a href="#super" class="headerlink" title="super"></a>super
                  </h3>
                  <ul>
                    <li>
                      <p>
                        super(props): Superclass will help you to keep the
                        props:
                      </p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;App&lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>But we use super() also can run</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;App&lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>
                        Subclass will auto execute the constructor function, we
                        can not write it
                      </p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;App&lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="propTypes-amp-defaultProps">
                    <a
                      href="#propTypes-amp-defaultProps"
                      class="headerlink"
                      title="propTypes &amp; defaultProps"
                    ></a
                    ><a
                      target="_blank"
                      rel="noopener"
                      href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html"
                      >propTypes &amp; defaultProps</a
                    >
                  </h2>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">import Proptypes from &quot;prop-types&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Function</span><br><span class="line">function ChildCpn(props) &#123;</span><br><span class="line">  const &#123; name, age, height &#125; &#x3D; props;</span><br><span class="line">  const &#123; names &#125; &#x3D; props;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;SubComponent:&#123;name + &quot; &quot; + age + &quot; &quot; + height&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;names.map((item, index) &#x3D;&gt; &#123;</span><br><span class="line">          return &lt;li key&#x3D;&#123;index&#125;&gt;&#123;item&#125;&lt;&#x2F;li&gt;;</span><br><span class="line">        &#125;)&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Class</span><br><span class="line">class ChildCpn2 extends Component &#123;</span><br><span class="line">  static propTypes &#x3D; &#123;&#125;;</span><br><span class="line">  static defaultProps &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; name, age, height, names &#125; &#x3D; this.props;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;SubCompnent2:&#123;name + &quot; &quot; + age + &quot; &quot; + height&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &#123;names.map((item, index) &#x3D;&gt; &#123;</span><br><span class="line">            return &lt;li key&#x3D;&#123;index&#125;&gt;&#123;item&#125;&lt;&#x2F;li&gt;;</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Custom Validation Rule</span><br><span class="line">ChildCpn.propTypes &#x3D; &#123;</span><br><span class="line">  name: Proptypes.string.isRequired,</span><br><span class="line">  age: Proptypes.number,</span><br><span class="line">  height: Proptypes.number,</span><br><span class="line">  names: Proptypes.array,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ChildCpn2.propTypes &#x3D; &#123;</span><br><span class="line">  name: Proptypes.string,</span><br><span class="line">  age: Proptypes.number,</span><br><span class="line">  height: Proptypes.number,</span><br><span class="line">  names: Proptypes.array,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; defaultValue</span><br><span class="line">ChildCpn.defaultProps &#x3D; &#123;</span><br><span class="line">  name: &quot;HelloKitty&quot;,</span><br><span class="line">  age: 30,</span><br><span class="line">  height: 1.78,</span><br><span class="line">  names: [&quot;defalut&quot;],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ChildCpn2.defaultProps &#x3D; &#123;</span><br><span class="line">  name: &quot;BlackAngel&quot;,</span><br><span class="line">  age: 30,</span><br><span class="line">  height: 1.78,</span><br><span class="line">  names: [&quot;defalut&quot;],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ChildCpn</span><br><span class="line">          name&#x3D;&quot;Smallstars&quot;</span><br><span class="line">          age&#x3D;&#123;18&#125;</span><br><span class="line">          height&#x3D;&#123;1.83&#125;</span><br><span class="line">          names&#x3D;&#123;[&quot;abc&quot;, &quot;de&quot;]&#125;</span><br><span class="line">        &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ChildCpn &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ChildCpn2 age&#x3D;&#123;18&#125; height&#x3D;&#123;1.83&#125; names&#x3D;&#123;[&quot;abc&quot;, &quot;de&quot;]&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h2 id="setState">
                    <a href="#setState" class="headerlink" title="setState"></a
                    >setState
                  </h2>
                  <ul>
                    <li>
                      <p>
                        Asynchronous: In the Liefcycles and the CompositeEvent
                        of React
                      </p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      message: &quot;default Text&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Call back after the render function is executed</span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&quot;componentDidUpdate&quot;, this.state.message); &#x2F;&#x2F; Smallstars</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeText() &#123;</span><br><span class="line">    this.setState(</span><br><span class="line">      &#123;</span><br><span class="line">        message: &quot;Smallstars&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; Call back after the datas are updated</span><br><span class="line">        console.log(&quot;changeText&quot;, this.state.message); &#x2F;&#x2F; Smallstars</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    console.log(&quot;changeText&quot;, this.state.message); &#x2F;&#x2F; default Text</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; message &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;message&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt; &#123;</span><br><span class="line">            this.changeText();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          synchronous</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Synchronous: In setTimeout and native event of DOM</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      message: &quot;default Text&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    document.getElementById(&quot;btn_synchronous&quot;).addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        message: &quot;Smallstars&quot;,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      console.log(&quot;document&quot;, this.state.message); &#x2F;&#x2F; Smallstars</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; this.setState(&#123;</span><br><span class="line">    &#x2F;&#x2F;   message: &quot;Smallstars&quot;,</span><br><span class="line">    &#x2F;&#x2F; &#125;);</span><br><span class="line">    &#x2F;&#x2F; console.log(&quot;componentDidMount&quot;, this.state.message); &#x2F;&#x2F; default Text</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeText() &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        message: &quot;Smallstars&quot;,</span><br><span class="line">      &#125;);</span><br><span class="line">      console.log(&quot;setTimeout&quot;, this.state.message); &#x2F;&#x2F; default Text</span><br><span class="line">    &#125;, 0);</span><br><span class="line"></span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      message: &quot;Smallstars&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(&quot;changeText&quot;, this.state.message); &#x2F;&#x2F; default Text</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; message &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;div&gt;message: &#123;message&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;button id&#x3D;&quot;btn_synchronous&quot;&gt;synchronous&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt; &#123;</span><br><span class="line">            this.changeText();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          synchronous</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Data merging</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.props &#x3D; props;</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      message: &quot;Default Text&quot;,</span><br><span class="line">      name: &quot;Smallstars&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;message: &#123;this.state.message&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;h2&gt;&#123;this.state.name&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.changeText();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          execute</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeText() &#123;</span><br><span class="line">    &#x2F;&#x2F; Use Object.assign(&#123;&#125;, this.state, &#123;message: &quot;Smallstars&quot;&#125;)</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      message: &quot;Smallstars&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>setState merging</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.props &#x3D; props;</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;Number: &#123;this.state.counter&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.increment();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          +</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  increment() &#123;</span><br><span class="line">    &#x2F;&#x2F; It is merged each time, and the front is covered by later</span><br><span class="line">    &#x2F;&#x2F; this.setState(&#123;</span><br><span class="line">    &#x2F;&#x2F;   counter: this.state.counter + 1,</span><br><span class="line">    &#x2F;&#x2F; &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; this.setState(&#123;</span><br><span class="line">    &#x2F;&#x2F;   counter: this.state.counter + 1,</span><br><span class="line">    &#x2F;&#x2F; &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; this.setState(&#123;</span><br><span class="line">    &#x2F;&#x2F;   counter: this.state.counter + 1,</span><br><span class="line">    &#x2F;&#x2F; &#125;);</span><br><span class="line">    &#x2F;&#x2F; couter is 1</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;Accumulate when meraging</span><br><span class="line">    &#x2F;&#x2F; Each time a meraging is made, the later state is used for accumulation, and then a new one is returned</span><br><span class="line">    this.setState((prevState, props) &#x3D;&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        counter: prevState.counter + 1,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    this.setState((prevState, props) &#x3D;&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        counter: prevState.counter + 1,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    this.setState((prevState, props) &#x3D;&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        counter: prevState.counter + 1,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    &#x2F;&#x2F; couter is 3</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="ReactCompositeEvent">
                    <a
                      href="#ReactCompositeEvent"
                      class="headerlink"
                      title="ReactCompositeEvent"
                    ></a
                    >ReactCompositeEvent
                  </h2>
                  <p>React is not just design for browsers</p>
                  <p>
                    <img
                      src="https://cdn.jsdelivr.net/gh/smaIIstars/CDN@master/React/react-composite-event.png"
                      alt="reactCompositeEvent"
                    />
                  </p>
                  <h2 id="Components-Communication">
                    <a
                      href="#Components-Communication"
                      class="headerlink"
                      title="Components Communication"
                    ></a
                    >Components Communication
                  </h2>
                  <h3 id="Parent-and-Child-Component">
                    <a
                      href="#Parent-and-Child-Component"
                      class="headerlink"
                      title="Parent and Child Component"
                    ></a
                    >Parent and Child Component
                  </h3>
                  <ul>
                    <li>
                      <p>Class Component</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">class ChildCpn extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; name, age, height &#125; &#x3D; this.props;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;Subclass:&#123;name + &quot; &quot; + age + &quot; &quot; + height&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ChildCpn name&#x3D;&quot;Smallstars&quot; age&#x3D;&quot;18&quot; height&#x3D;&quot;1.83&quot; &#x2F;&gt;</span><br><span class="line">        &lt;ChildCpn name&#x3D;&quot;BlackAngel&quot; age&#x3D;&quot;20&quot; height&#x3D;&quot;1.63&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Function Component</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">function ChildCpn(props) &#123;</span><br><span class="line">  const &#123; name, age, height &#125; &#x3D; props;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;Subclass:&#123;name + &quot; &quot; + age + &quot; &quot; + height&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ChildCpn name&#x3D;&quot;Smallstars&quot; age&#x3D;&quot;18&quot; height&#x3D;&quot;1.83&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h3 id="Cross-Components-Communication">
                    <a
                      href="#Cross-Components-Communication"
                      class="headerlink"
                      title="Cross Components Communication"
                    ></a
                    >Cross Components Communication
                  </h3>
                  <ul>
                    <li>
                      <p>Props are passed layer by layer</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">const ProfileHeader &#x3D; (props) &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; nickname, age &#125; &#x3D; props;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div&gt;nickname: &#123;nickname&#125;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;age: &#123;age&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const Profile &#x3D; (props) &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; nickname, age &#125; &#x3D; props;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ProfileHeader nickname&#x3D;&#123;nickname&#125; age&#x3D;&#123;age&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      nickname: &quot;Smallstars&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; nickname, age &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Profile nickname&#x3D;&#123;nickname&#125; age&#x3D;&#123;age&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Context Sharing and Delivery</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; Class Component</span><br><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; First, create the context object</span><br><span class="line">const UserContext &#x3D; React.createContext(&#123;</span><br><span class="line">  nickname: &quot;defaultName&quot;,</span><br><span class="line">  level: 0,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">class ProfileHeader extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(&quot;ProfileHeader&quot;, this);</span><br><span class="line">    const &#123; context &#125; &#x3D; this;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;nickname: &#123;context.nickname&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;h2&gt;level: &#123;context.level&#125; &lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Profile extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(&quot;Profile&quot;, this);</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;ProfileHeader&gt;&lt;&#x2F;ProfileHeader&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Fourth, get the shared data</span><br><span class="line">ProfileHeader.contextType &#x3D; UserContext;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      nickname: &quot;Smallstars&quot;,</span><br><span class="line">      level: 10,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &#123;&#x2F;* Second, sharing the data *&#x2F;&#125;</span><br><span class="line">        &lt;UserContext.Provider value&#x3D;&#123;this.state&#125;&gt;</span><br><span class="line">          &#123;&#x2F;* Third, components that use shared data must be subcomponent *&#x2F;&#125;</span><br><span class="line">          &lt;Profile &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;UserContext.Provider&gt;</span><br><span class="line">        &#123;&#x2F;* use the default value *&#x2F;&#125;</span><br><span class="line">        &lt;Profile &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Function Component</span><br><span class="line">import React, &#123; createContext &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; First, create the context</span><br><span class="line">const UserContext &#x3D; createContext(&#123;</span><br><span class="line">  nickname: &quot;defaultName&quot;,</span><br><span class="line">  level: 0,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const ThemeContext &#x3D; createContext(&#123;</span><br><span class="line">  red: &quot;red&quot;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const ProfileHeader &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x2F;&#x2F; Fourth, user the Consumer and call the function pass in the value</span><br><span class="line">    &lt;UserContext.Consumer&gt;</span><br><span class="line">      &#123;(userValue) &#x3D;&gt; &#123;</span><br><span class="line">        return (</span><br><span class="line">          &#x2F;&#x2F; Fifth, mulit level nested calls, as the Fluter</span><br><span class="line">          &lt;ThemeContext.Consumer&gt;</span><br><span class="line">            &#123;(themeValue) &#x3D;&gt; &#123;</span><br><span class="line">              &#x2F;&#x2F; console.log(themeValue);</span><br><span class="line">              return (</span><br><span class="line">                &lt;&gt;</span><br><span class="line">                  &lt;div style&#x3D;&#123;&#123; color: themeValue.color &#125;&#125;&gt;</span><br><span class="line">                    nickname: &#123;userValue.nickname&#125;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;div&gt;level: &#123;userValue.level&#125;&lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;div&gt;color: &#123;themeValue.color&#125;&lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;&gt;</span><br><span class="line">              );</span><br><span class="line">            &#125;&#125;</span><br><span class="line">          &lt;&#x2F;ThemeContext.Consumer&gt;</span><br><span class="line">        );</span><br><span class="line">      &#125;&#125;</span><br><span class="line">    &lt;&#x2F;UserContext.Consumer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const Profile &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ProfileHeader &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const App &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const user &#x3D; &#123;</span><br><span class="line">    nickname: &quot;smallstars&quot;,</span><br><span class="line">    level: 100,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &#x2F;&#x2F; Second, sharing the data</span><br><span class="line">    &lt;UserContext.Provider value&#x3D;&#123;user&#125;&gt;</span><br><span class="line">      &lt;ThemeContext.Provider value&#x3D;&#123;&#123; color: &quot;blue&quot; &#125;&#125;&gt;</span><br><span class="line">        &#123;&#x2F;* Third, as a subcomponent *&#x2F;&#125;</span><br><span class="line">        &lt;Profile &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;ThemeContext.Provider&gt;</span><br><span class="line">    &lt;&#x2F;UserContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Events</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">import &#123; EventEmitter &#125; from &quot;events&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Event bus</span><br><span class="line">const eventBus &#x3D; new EventEmitter();</span><br><span class="line"></span><br><span class="line">class Home extends PureComponent &#123;</span><br><span class="line">  &#x2F;&#x2F; addListener</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    eventBus.addListener(&quot;btnClick&quot;, this.handleBtnClickListener);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; removeListener</span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    &#x2F;&#x2F; remove all event listener about btnClick</span><br><span class="line">    &#x2F;&#x2F; eventBus.removeListener(&quot;btnClick&quot;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Only one needs to be cancelled separately</span><br><span class="line">    &#x2F;&#x2F; and there use the ... operator</span><br><span class="line">    eventBus.removeListener(&quot;btnClick&quot;, this.handleBtnClickListener);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleBtnClickListener &#x3D; (message, num) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(message, num);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;div&gt;Home&lt;&#x2F;div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Profile extends PureComponent &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        Profile</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.btnClick();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          Click</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  btnClick() &#123;</span><br><span class="line">    &#x2F;&#x2F; emit the event</span><br><span class="line">    eventBus.emit(&quot;btnClick&quot;, &quot;HelloWorld&quot;, 123);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default class App extends PureComponent &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Home&gt;&lt;&#x2F;Home&gt;</span><br><span class="line">        &lt;Profile&gt;&lt;&#x2F;Profile&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li><p>Redux</p></li>
                  </ul>
                  <h2 id="Ref">
                    <a href="#Ref" class="headerlink" title="Ref"></a>Ref
                  </h2>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">import React, &#123; PureComponent, createRef, forwardRef &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Can&#39;t use ref in function components, it doesn&#39;t have instance</span><br><span class="line">&#x2F;&#x2F; Use the forwardRef HOC to enhance the function component</span><br><span class="line">const Profile &#x3D; forwardRef(function (props, ref) &#123;</span><br><span class="line">  console.log(props.name);</span><br><span class="line">  return &lt;div ref&#x3D;&#123;ref&#125;&gt;Profile&lt;&#x2F;div&gt;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">class Counter extends PureComponent &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  subclassAdd() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      counter: this.state.counter + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; counter &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;Counter:&#123;counter&#125;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class App extends PureComponent &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.ref2 &#x3D; createRef();</span><br><span class="line">    this.ref3 &#x3D; null;</span><br><span class="line">    this.ref4 &#x3D; createRef();</span><br><span class="line">    this.ref5 &#x3D; createRef();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeText() &#123;</span><br><span class="line">    console.log(&quot;this&quot;, this);</span><br><span class="line">    this.refs.ref1.innerHTML &#x3D; &quot;SmallStars&quot;;</span><br><span class="line">    this.ref2.current.innerHTML &#x3D; &quot;BlackAngel&quot;;</span><br><span class="line">    this.ref3.innerHTML &#x3D; &quot;HelloKitty&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  supclassAdd() &#123;</span><br><span class="line">    &#x2F;&#x2F; call the subclass function by ref</span><br><span class="line">    this.ref4.current.subclassAdd();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;&#x2F;* Three ways to use ref: String(Abandoned), Object(recommend), Function *&#x2F;&#125;</span><br><span class="line">        &lt;div ref&#x3D;&quot;ref1&quot;&gt;DefaultText&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div ref&#x3D;&#123;this.ref2&#125;&gt;DefaultText&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div ref&#x3D;&#123;(args) &#x3D;&gt; (this.ref3 &#x3D; args)&#125;&gt;DefaultText&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Profile name&#x3D;&quot;profile&quot; ref&#x3D;&#123;this.ref5&#125; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;button</span><br><span class="line">          onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.changeText();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          changeText</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Counter ref&#x3D;&#123;this.ref4&#125; &#x2F;&gt;</span><br><span class="line">        &lt;button onClick&#x3D;&#123;() &#x3D;&gt; this.supclassAdd()&#125;&gt;+&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h2 id="Controlled-amp-Uncontrolled-Components">
                    <a
                      href="#Controlled-amp-Uncontrolled-Components"
                      class="headerlink"
                      title="Controlled &amp; Uncontrolled Components"
                    ></a
                    >Controlled &amp; Uncontrolled Components
                  </h2>
                  <p>
                    Data is handle by a React Component ? Controlled :
                    Uncontrolled
                  </p>
                  <ul>
                    <li>
                      <p>
                        Controlled Components: The values in the components are
                        always consistent with the state
                      </p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class App extends PureComponent &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      message: &quot;DefaultText&quot;,</span><br><span class="line">      counter: 5,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeHandle(e) &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(e.target.value);</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      message: e.target.value,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  submitHandle(e) &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    console.log(this.state.message);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; message &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;div&gt;message:&#123;message&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;form</span><br><span class="line">          onSubmit&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.submitHandle(e);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;label htmlFor&#x3D;&quot;message&quot;&gt;</span><br><span class="line">            &lt;input</span><br><span class="line">              type&#x3D;&quot;text&quot;</span><br><span class="line">              onChange&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">                this.changeHandle(e);</span><br><span class="line">              &#125;&#125;</span><br><span class="line">              value&#x3D;&#123;message&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;label&gt;</span><br><span class="line">          &lt;input type&#x3D;&quot;submit&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">      &lt;&#x2F;&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>

                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">sequenceDiagram</span><br><span class="line">	participant s as state</span><br><span class="line">	participant c as components</span><br><span class="line"></span><br><span class="line">    s-&gt;&gt;c:DefaultValue</span><br><span class="line">	loop One Way Data Flaw</span><br><span class="line">        c-&gt;&gt;c:ChangeValue</span><br><span class="line">        c-&gt;&gt;s:ChangeState</span><br><span class="line">        s-&gt;&gt;c:ChangeValue</span><br><span class="line">	end</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Uncontrolled Components</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; createRef, PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends PureComponent &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      username: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    this.usernameRef &#x3D; createRef();</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;form</span><br><span class="line">          onSubmit&#x3D;&#123;(e) &#x3D;&gt; &#123;</span><br><span class="line">            this.handleSubmit(e);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;label htmlFor&#x3D;&quot;username&quot;&gt;</span><br><span class="line">            Username:&#123;&quot; &quot;&#125;</span><br><span class="line">            &lt;input</span><br><span class="line">              type&#x3D;&quot;text&quot;</span><br><span class="line">              name&#x3D;&quot;username&quot;</span><br><span class="line">              id&#x3D;&quot;username&quot;</span><br><span class="line">              ref&#x3D;&#123;this.usernameRef&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;label&gt;</span><br><span class="line"></span><br><span class="line">          &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;submit&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    event.preventDefault();</span><br><span class="line">    console.log(this.usernameRef.current.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="Higher-Order-Components-HOC">
                    <a
                      href="#Higher-Order-Components-HOC"
                      class="headerlink"
                      title="Higher-Order Components (HOC)"
                    ></a
                    >Higher-Order Components (HOC)
                  </h2>
                  <p>
                    HOC is a function with arguments as component and return
                    value as new function
                  </p>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">ReactDOM.render(&lt;App name&#x3D;&quot;Smallstars&quot; &#x2F;&gt;, document.getElementById(&quot;root&quot;));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Components</span><br><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class App extends PureComponent &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        App:</span><br><span class="line">        &#123;this.props.name&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const EnhanceComponent &#x3D; (WrappedComponent) &#x3D;&gt; &#123;</span><br><span class="line">  class NewComponent extends PureComponent &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return &lt;WrappedComponent &#123;...this.props&#125; &#x2F;&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Change the display name of Components</span><br><span class="line">  NewComponent.dispalyName &#x3D; &quot;StarsComponents&quot;;</span><br><span class="line">  return NewComponent;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const EnhanceComponent2 &#x3D; (WrappedComponent) &#x3D;&gt; &#123;</span><br><span class="line">  function NewComponent(props) &#123;</span><br><span class="line">    return &lt;WrappedComponent &#123;...props&#125; &#x2F;&gt;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Change the display name of Components</span><br><span class="line">  return NewComponent;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default EnhanceComponent(App);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h2 id="React-CSS">
                    <a
                      href="#React-CSS"
                      class="headerlink"
                      title="React-CSS"
                    ></a
                    >React-CSS
                  </h2>
                  <ul>
                    <li>
                      <p>Inline Style</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends PureComponent &#123;</span><br><span class="line">  constructor(porps) &#123;</span><br><span class="line">    super();</span><br><span class="line"></span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      color: &quot;purple&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const pStyle &#x3D; &#123;</span><br><span class="line">      color: this.state.color,</span><br><span class="line">      textDecoration: &quot;underline&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2 style&#x3D;&#123;&#123; fontSize: &quot;50px&quot;, color: &quot;red&quot; &#125;&#125;&gt;Title&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;p style&#x3D;&#123;pStyle&#125;&gt;Text&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Module Style</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; style.module.css</span><br><span class="line">.title&#123;</span><br><span class="line">  color: xxx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">import React, &#123; memo &#125; from &quot;react&quot;;</span><br><span class="line">import Home from &quot;..&#x2F;home&quot;;</span><br><span class="line">import Profile from &quot;..&#x2F;profile&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Import in this way will pollution whole situation</span><br><span class="line">&#x2F;&#x2F; import &quot;.&#x2F;style.css&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; We should import file as a module</span><br><span class="line">&#x2F;&#x2F; first: style.css --&gt; style.module.css</span><br><span class="line">&#x2F;&#x2F; second: xxxStyle &lt;-- style.module.css</span><br><span class="line">&#x2F;&#x2F; third: xxxStyle.xxx</span><br><span class="line">import appStyle from &quot;.&#x2F;style.module.css&quot;;</span><br><span class="line">const index &#x3D; memo(function index(props) &#123;</span><br><span class="line">  &#x2F;&#x2F; console.log(appStyle);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      App</span><br><span class="line">      &lt;h2 className&#x3D;&#123;appStyle.title&#125;&gt;APP Title&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;Home &#x2F;&gt;</span><br><span class="line">      &lt;Profile &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">export default index;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Home.js</span><br><span class="line">import React, &#123; memo &#125; from &quot;react&quot;;</span><br><span class="line">import homeStyle from &quot;.&#x2F;style.module.css&quot;;</span><br><span class="line"></span><br><span class="line">const index &#x3D; memo(function index(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      Home</span><br><span class="line">      &lt;h2 className&#x3D;&#123;homeStyle.title&#125;&gt;Home Title&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">export default index;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Profile.js</span><br><span class="line">import React, &#123; memo &#125; from &quot;react&quot;;</span><br><span class="line">import profileStyle from &quot;.&#x2F;style.module.css&quot;;</span><br><span class="line"></span><br><span class="line">const index &#x3D; memo(function index(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      Profile</span><br><span class="line">      &lt;h2 className&#x3D;&#123;profileStyle.title&#125;&gt;Profile Title&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">export default index;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>styled-components</p>
                      <p>Use the principal of Label Template String</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; Basic Usage</span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import React, &#123; memo &#125; from &quot;react&quot;;</span><br><span class="line">import &#123; HomeWrapper, TitleWrapper &#125; from &quot;.&#x2F;style&quot;;</span><br><span class="line"></span><br><span class="line">const index &#x3D; memo(function index(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;HomeWrapper&gt;</span><br><span class="line">      &lt;div className&#x3D;&quot;banner&quot;&gt;</span><br><span class="line">        &lt;span className&#x3D;&quot;active&quot;&gt;Home1&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span&gt;Home2&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span&gt;Home3&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;TitleWrapper&gt;Home Title&lt;&#x2F;TitleWrapper&gt;</span><br><span class="line">    &lt;&#x2F;HomeWrapper&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">export default index;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; style.js</span><br><span class="line">import styled from &quot;styled-components&quot;;</span><br><span class="line"></span><br><span class="line">export const HomeWrapper &#x3D; styled.div&#96;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  color: red;</span><br><span class="line"></span><br><span class="line">  .banner &#123;</span><br><span class="line">    background-color: blue;</span><br><span class="line">    span &#123;</span><br><span class="line">      color: #fff;</span><br><span class="line">      &amp;.active &#123;</span><br><span class="line">        color: red;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;:hover &#123;</span><br><span class="line">        color: green;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        content: &quot;&lt;--&quot;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#96;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Use the theme props</span><br><span class="line">export const TitleWrapper &#x3D; styled.h2&#96;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">  font-size: $&#123;(props) &#x3D;&gt; props.theme.fontSize&#125;;</span><br><span class="line">  color: $&#123;(props) &#x3D;&gt; props.theme.color&#125;;</span><br><span class="line">&#96;;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>

                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line">import &#123; SSInput &#125; from &quot;.&#x2F;style&quot;;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 1.Attribute Penetration</span><br><span class="line"> * 2.Dynamic Props</span><br><span class="line"> *&#x2F;</span><br><span class="line">class index extends PureComponent &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      textColor: &quot;blue&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;hr &#x2F;&gt;</span><br><span class="line">        &lt;div&gt;Profile&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;password&quot; &#x2F;&gt;</span><br><span class="line">        &lt;SSInput type&#x3D;&quot;password&quot; textColor&#x3D;&#123;this.state.textColor&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default index;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; style.js</span><br><span class="line">import styled from &quot;styled-components&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; attrs function can set some default value</span><br><span class="line">export const SSInput &#x3D; styled.input.attrs(&#123;</span><br><span class="line">  placeholder: &quot;SmallStars&quot;,</span><br><span class="line">  borderColor: &quot;red&quot;,</span><br><span class="line">&#125;)&#96;</span><br><span class="line">  border-color: $&#123;(props) &#x3D;&gt; props.borderColor&#125;;</span><br><span class="line">  color: $&#123;(props) &#x3D;&gt; props.textColor&#125;;</span><br><span class="line">&#96;;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>

                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; Style Hiheritance and Theme Props Shared</span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import React, &#123; memo &#125; from &quot;react&quot;;</span><br><span class="line">import &#123; ThemeProvider &#125; from &quot;styled-components&quot;;</span><br><span class="line">import Home from &quot;..&#x2F;home&quot;;</span><br><span class="line">import Profile from &quot;..&#x2F;profile&quot;;</span><br><span class="line">import &#123; Button, PrimaryButton &#125; from &quot;.&#x2F;style&quot;;</span><br><span class="line">const index &#x3D; memo(function index(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x2F;&#x2F; Theme Settings</span><br><span class="line">    &lt;ThemeProvider theme&#x3D;&#123;&#123; color: &quot;yellow&quot;, fontSize: &quot;40px&quot; &#125;&#125;&gt;</span><br><span class="line">      App</span><br><span class="line">      &lt;h2&gt;APP Title&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;Home &#x2F;&gt;</span><br><span class="line">      &lt;Profile &#x2F;&gt;</span><br><span class="line">      &lt;Button&gt;Button&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;PrimaryButton&gt;PrimaryButton&lt;&#x2F;PrimaryButton&gt;</span><br><span class="line">    &lt;&#x2F;ThemeProvider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">export default index;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; style.js</span><br><span class="line">import styled from &quot;styled-components&quot;;</span><br><span class="line"></span><br><span class="line">export const Button &#x3D; styled.button&#96;</span><br><span class="line">  padding: 10px 20px;</span><br><span class="line">  color: red;</span><br><span class="line">  border-color: blue;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">&#96;;</span><br><span class="line">export const PrimaryButton &#x3D; styled(Button)&#96;</span><br><span class="line">  color: orange;</span><br><span class="line">  border-color: pink;</span><br><span class="line">&#96;;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="Redux">
                    <a href="#Redux" class="headerlink" title="Redux"></a>Redux
                  </h2>
                  <ul>
                    <li>
                      Single Data Source
                      <ul>
                        <li>
                          All states is stored in an Object Tree, and the Object
                          Tree is stored in only one store
                        </li>
                        <li>Easy to maintain, track and modify</li>
                      </ul>
                    </li>
                    <li>
                      State is read-only
                      <ul>
                        <li>The only way to change states is to use action</li>
                      </ul>
                    </li>
                    <li>Use pure function</li>
                  </ul>
                  <p>
                    <img
                      src="https://cdn.jsdelivr.net/gh/SmaIIstars/imgCDN/STA/Redux-Process.png"
                      alt="Redux Process"
                    />
                  </p>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">sequenceDiagram</span><br><span class="line">	participant v as view</span><br><span class="line">	participant r as reducer</span><br><span class="line">	participant s as state</span><br><span class="line"></span><br><span class="line">	v-&gt;&gt;r: dispatch(action)</span><br><span class="line">	r-&gt;&gt;s: change state</span><br><span class="line">	s-&gt;&gt;s: Shallow comparison and Update</span><br><span class="line">	s-&gt;&gt;v: call render() to update view</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <ul>
                    <li>
                      <p>Basic Usage</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; node index.js</span><br><span class="line">const redux &#x3D; require(&quot;redux&quot;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; store</span><br><span class="line">const store &#x3D; redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; state</span><br><span class="line">const initState &#x3D; &#123;</span><br><span class="line">  counter: 0,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; subscribe</span><br><span class="line">store.subscribe(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;counter&quot;, store.getState().counter);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; reducer</span><br><span class="line">const reducer &#x3D; (state &#x3D; initState, action) &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; type, payload &#125; &#x3D; action;</span><br><span class="line">  switch (type) &#123;</span><br><span class="line">    case &quot;INCREMENT&quot;:</span><br><span class="line">      return &#123; ...state, counter: state.counter + 1 &#125;;</span><br><span class="line">    case &quot;DECREMENT&quot;:</span><br><span class="line">      return &#123; ...state, counter: state.counter + 1 &#125;;</span><br><span class="line">    case &quot;ADD_NUMBER&quot;:</span><br><span class="line">      return &#123; ...state, counter: state.counter + payload.counter &#125;;</span><br><span class="line">    case &quot;SUB_NUMBER&quot;:</span><br><span class="line">      return &#123; ...state, counter: state.counter - payload.counter &#125;;</span><br><span class="line"></span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; action</span><br><span class="line">const action1 &#x3D; () &#x3D;&gt; (&#123;</span><br><span class="line">  type: &quot;INCREMENT&quot;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const action2 &#x3D; () &#x3D;&gt; (&#123;</span><br><span class="line">  type: &quot;DECREMENT&quot;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const action3 &#x3D; (num) &#x3D;&gt; (&#123;</span><br><span class="line">  type: &quot;ADD_NUMBER&quot;,</span><br><span class="line">  payload: &#123;</span><br><span class="line">    num,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const action4 &#x3D; (num) &#x3D;&gt; (&#123;</span><br><span class="line">  type: &quot;SUB_NUMBER&quot;,</span><br><span class="line">  payload: &#123;</span><br><span class="line">    num,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; dispatch</span><br><span class="line">store.dispatch(action1());</span><br><span class="line">store.dispatch(action1());</span><br><span class="line">store.dispatch(action2());</span><br><span class="line">store.dispatch(action2());</span><br><span class="line">store.dispatch(action3(5));</span><br><span class="line">store.dispatch(action4(12));</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>Module Redux</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;**</span><br><span class="line"> * │  index.js</span><br><span class="line"> * │  package-lock.json</span><br><span class="line"> * │  package.json</span><br><span class="line"> * └─store</span><br><span class="line"> *         actionCreator.js</span><br><span class="line"> *         constants.js</span><br><span class="line"> *         index.js</span><br><span class="line"> *         reducer.js</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; store</span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import redux from &quot;redux&quot;;</span><br><span class="line">import reducer from &quot;.&#x2F;reducer.js&quot;;</span><br><span class="line">const store &#x3D; redux.createStore(reducer);</span><br><span class="line">export default store;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; actionCreator.js</span><br><span class="line">import &#123; ADD_NUMBER, SUB_NUMBER &#125; from &quot;.&#x2F;constants.js&quot;;</span><br><span class="line"></span><br><span class="line">export const addAction &#x3D; (num) &#x3D;&gt; (&#123;</span><br><span class="line">  type: ADD_NUMBER,</span><br><span class="line">  num,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export const subAction &#x3D; (num) &#x3D;&gt; (&#123;</span><br><span class="line">  type: SUB_NUMBER,</span><br><span class="line">  num,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; reducer.js</span><br><span class="line">import &#123; ADD_NUMBER, SUB_NUMBER &#125; from &quot;.&#x2F;constants.js&quot;;</span><br><span class="line">const defaultState &#x3D; &#123;</span><br><span class="line">  counter: 0,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function reducer(state &#x3D; defaultState, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case ADD_NUMBER:</span><br><span class="line">      return &#123; ...state, counter: state.counter + action.num &#125;;</span><br><span class="line">    case SUB_NUMBER:</span><br><span class="line">      return &#123; ...state, counter: state.counter - action.num &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default reducer;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import store from &quot;.&#x2F;store&#x2F;index.js&quot;;</span><br><span class="line">import &#123; addAction, subAction &#125; from &quot;.&#x2F;store&#x2F;actionCreator.js&quot;;</span><br><span class="line"></span><br><span class="line">store.subscribe(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(store.getState());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">store.dispatch(addAction(10));</span><br><span class="line">store.dispatch(addAction(15));</span><br><span class="line">store.dispatch(addAction(10));</span><br><span class="line">store.dispatch(subAction(20));</span><br><span class="line">store.dispatch(subAction(3));</span><br><span class="line">store.dispatch(subAction(1));</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="Connect-HOC">
                    <a
                      href="#Connect-HOC"
                      class="headerlink"
                      title="Connect(HOC)"
                    ></a
                    >Connect(HOC)
                  </h2>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">const mapStateToProps &#x3D; (state) &#x3D;&gt; (&#123;</span><br><span class="line">  xxx: xxx</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps &#x3D; (dispatch) &#x3D;&gt; (&#123;</span><br><span class="line">  func() &#123;</span><br><span class="line">    dispatch(action())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default connect(mapStateToProps, mapDispatchToProps)(App);</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; Basic connect.js</span><br><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line">import store from &quot;..&#x2F;store&quot;;</span><br><span class="line"></span><br><span class="line">export const connect &#x3D; (mapStateToProps, mapDispatchToProps) &#x3D;&gt; &#123;</span><br><span class="line">  return (WrappedComponent) &#x3D;&gt; &#123;</span><br><span class="line">    return class extends PureComponent &#123;</span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super();</span><br><span class="line"></span><br><span class="line">        this.stateStore &#x3D; &#123;</span><br><span class="line">          &#x2F;&#x2F; Listen the incoming state change through own state, and call render function to update</span><br><span class="line">          stateStore: mapStateToProps(store.getState()),</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      componentDidMount() &#123;</span><br><span class="line">        this.unSubscribe &#x3D; store.subscribe(() &#x3D;&gt; &#123;</span><br><span class="line">          this.setState(&#123;</span><br><span class="line">            stateStore: mapStateToProps(store.getState()),</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      componentWillUnmount() &#123;</span><br><span class="line">        this.unSubscribe();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      render() &#123;</span><br><span class="line">        return (</span><br><span class="line">          &lt;WrappedComponent</span><br><span class="line">            &#123;...this.props&#125;</span><br><span class="line">            &#123;...mapStateToProps(store.getState())&#125;</span><br><span class="line">            &#123;...mapDispatchToProps(store.dispatch)&#125;</span><br><span class="line">          &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <p>props and context</p>
                  <figure class="highlight plain">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">&#x2F;&#x2F; Advanced(Use Context) connect.js</span><br><span class="line">&#x2F;&#x2F; context.js</span><br><span class="line">import React from &quot;react&quot;;</span><br><span class="line">const StoreContext &#x3D; React.createContext();</span><br><span class="line">export &#123; StoreContext &#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; connect.js</span><br><span class="line">import React, &#123; PureComponent &#125; from &quot;react&quot;;</span><br><span class="line">import &#123; StoreContext &#125; from &quot;.&#x2F;context&quot;;</span><br><span class="line"></span><br><span class="line">export const connect &#x3D; (mapStateToProps, mapDispatchToProps) &#x3D;&gt; &#123;</span><br><span class="line">  return (WrappedComponent) &#x3D;&gt; &#123;</span><br><span class="line">    class EnhanceComponent extends PureComponent &#123;</span><br><span class="line">      constructor(props, context) &#123;</span><br><span class="line">        super();</span><br><span class="line"></span><br><span class="line">        this.stateStore &#x3D; &#123;</span><br><span class="line">          &#x2F;&#x2F; This.context hasn&#39;t been assigned here yet</span><br><span class="line">          stateStore: mapStateToProps(context.getState()),</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      componentDidMount() &#123;</span><br><span class="line">        this.unSubscribe &#x3D; this.context.subscribe(() &#x3D;&gt; &#123;</span><br><span class="line">          this.setState(&#123;</span><br><span class="line">            stateStore: mapStateToProps(this.context.getState()),</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      componentWillUnmount() &#123;</span><br><span class="line">        this.unSubscribe();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      render() &#123;</span><br><span class="line">        return (</span><br><span class="line">          &lt;WrappedComponent</span><br><span class="line">            &#123;...this.props&#125;</span><br><span class="line">            &#123;...mapStateToProps(this.context.getState())&#125;</span><br><span class="line">            &#123;...mapDispatchToProps(this.context.dispatch)&#125;</span><br><span class="line">          &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    EnhanceComponent.contextType &#x3D; StoreContext;</span><br><span class="line"></span><br><span class="line">    return EnhanceComponent;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;;</span><br><span class="line">import App from &quot;.&#x2F;App&quot;;</span><br><span class="line">import store from &quot;.&#x2F;store&quot;;</span><br><span class="line">import &#123; StoreContext &#125; from &quot;.&#x2F;utils&#x2F;context&quot;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;StoreContext.Provider value&#x3D;&#123;store&#125;&gt;</span><br><span class="line">    &lt;App &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;StoreContext.Provider&gt;,</span><br><span class="line">  document.getElementById(&quot;root&quot;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <h2 id="Middleware">
                    <a
                      href="#Middleware"
                      class="headerlink"
                      title="Middleware"
                    ></a
                    >Middleware
                  </h2>
                  <ul>
                    <li>
                      <p>redux-thunk</p>
                      <p>
                        dispatch(action Object ==&gt; action Function): We can
                        make network requests in the funciton
                      </p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">import &#123; getHomeMultidataAction &#125; from &quot;..&#x2F;store&#x2F;home&#x2F;actionCreator&quot;;</span><br><span class="line">const mapDispatchToProps &#x3D; (dispatch) &#x3D;&gt; (&#123;</span><br><span class="line">  &#x2F;&#x2F; What we pass in here is a function, not an obejct</span><br><span class="line">  &#x2F;&#x2F; and we do not need to call the function manually</span><br><span class="line">  getHomeMultidata() &#123;</span><br><span class="line">    dispatch(getHomeMultidataAction);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; actionCreator.js</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">import &#123; CHANGE_BANNER, CHANGE_RECOMMEND &#125; from &quot;.&#x2F;constants.js&quot;;</span><br><span class="line">export const changeBannerAction &#x3D; (banner) &#x3D;&gt; (&#123;</span><br><span class="line">  type: CHANGE_BANNER,</span><br><span class="line">  banner,</span><br><span class="line">&#125;);</span><br><span class="line">export const getHomeMultidataAction &#x3D; (dispatch, getState) &#x3D;&gt; &#123;</span><br><span class="line">  axios(&#123;</span><br><span class="line">    url: &quot;http:&#x2F;&#x2F;123.207.32.32:8000&#x2F;home&#x2F;multidata&quot;,</span><br><span class="line">  &#125;).then((res) &#x3D;&gt; &#123;</span><br><span class="line">    const &#123; data &#125; &#x3D; res.data;</span><br><span class="line">    &#x2F;&#x2F; console.log(data);</span><br><span class="line">    dispatch(changeBannerAction(data.banner.list));</span><br><span class="line">  &#125;);</span><br><span class="line">  &#x2F;&#x2F; console.log(getState());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; reducer.js</span><br><span class="line">import &#123; CHANGE_BANNER, CHANGE_RECOMMEND &#125; from &quot;.&#x2F;constants.js&quot;;</span><br><span class="line">&#x2F;&#x2F; home</span><br><span class="line">const initalHomeState &#x3D; &#123;</span><br><span class="line">  banner: [],</span><br><span class="line">  recommend: [],</span><br><span class="line">&#125;;</span><br><span class="line">function homeReducer(homeInfo &#x3D; initalHomeState, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case CHANGE_BANNER:</span><br><span class="line">      return &#123; ...homeInfo, banner: action.banner &#125;;</span><br><span class="line">    case CHANGE_RECOMMEND:</span><br><span class="line">      return &#123; ...homeInfo, recommend: action.recommend &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return homeInfo;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default homeReducer;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>redux-saga</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import &#123; createStore, applyMiddleware &#125; from &quot;redux&quot;;</span><br><span class="line">import reducer from &quot;.&#x2F;reducer&quot;;</span><br><span class="line">&#x2F;&#x2F; thunk</span><br><span class="line">import thunkMiddleware from &quot;redux-thunk&quot;;</span><br><span class="line">&#x2F;&#x2F; saga</span><br><span class="line">import createSagaMiddleware from &quot;redux-saga&quot;;</span><br><span class="line">import mySaga from &quot;.&#x2F;home&#x2F;saga&quot;;</span><br><span class="line">const sagaMiddleware &#x3D; createSagaMiddleware();</span><br><span class="line">const storeEnhancer &#x3D; applyMiddleware(thunkMiddleware, sagaMiddleware);</span><br><span class="line">const store &#x3D; createStore(reducer, storeEnhancer);</span><br><span class="line">&#x2F;&#x2F; generator Function</span><br><span class="line">sagaMiddleware.run(mySaga);</span><br><span class="line">export default store;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; saga.js</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">import &#123; all, put, takeEvery &#125; from &quot;redux-saga&#x2F;effects&quot;;</span><br><span class="line">import &#123; FETCH_GET_MULTIDATA &#125; from &quot;.&#x2F;constants&quot;;</span><br><span class="line">import &#123; changeBannerAction, changeRecommendAction &#125; from &quot;.&#x2F;actionCreator&quot;;</span><br><span class="line"></span><br><span class="line">function* fetchGetMultidata(action) &#123;</span><br><span class="line">  const &#123;</span><br><span class="line">    data: &#123; data &#125;,</span><br><span class="line">  &#125; &#x3D; yield axios(&#123;</span><br><span class="line">    url: &quot;http:&#x2F;&#x2F;123.207.32.32:8000&#x2F;home&#x2F;multidata&quot;,</span><br><span class="line">  &#125;);</span><br><span class="line">  yield all([</span><br><span class="line">    put(changeBannerAction(data.banner.list)),</span><br><span class="line">    put(changeRecommendAction(data.recommend.list)),</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line">function* mySaga() &#123;</span><br><span class="line">  &#x2F;&#x2F; takeLaste: Excute the latest one</span><br><span class="line">  &#x2F;&#x2F; takeEvery: Every will be excuted</span><br><span class="line">  &#x2F;&#x2F; action.type, generator</span><br><span class="line">  yield takeEvery(FETCH_GET_MULTIDATA, fetchGetMultidata);</span><br><span class="line">&#125;</span><br><span class="line">export default mySaga;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; actionCreator.js</span><br><span class="line">export const fetchGetMultidataAction &#x3D; () &#x3D;&gt; (&#123;</span><br><span class="line">  type: FETCH_GET_MULTIDATA,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">const mapDispatchToProps &#x3D; (dispatch) &#x3D;&gt; (&#123;</span><br><span class="line">  &#x2F;&#x2F; Pass in an object</span><br><span class="line">  fetchGetMultidata() &#123;</span><br><span class="line">    dispatch(fetchGetMultidataAction());</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h2 id="Router">
                    <a href="#Router" class="headerlink" title="Router"></a
                    >Router
                  </h2>
                  <h2 id="Source-Code">
                    <a
                      href="#Source-Code"
                      class="headerlink"
                      title="Source Code"
                    ></a
                    >Source Code
                  </h2>
                  <ul>
                    <li>
                      <p>props</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; Component will help us to assign the props</span><br><span class="line">&#x2F;&#x2F; node_modules\react\cjs\react.development.js</span><br><span class="line">  function Component(props, context, updater) &#123;</span><br><span class="line">    this.props &#x3D; props;</span><br><span class="line">    this.context &#x3D; context; &#x2F;&#x2F; If a component has string refs, we will assign a different object later.</span><br><span class="line">    this.refs &#x3D; emptyObject; &#x2F;&#x2F; We initialize the default updater but the real one gets injected by the</span><br><span class="line">    &#x2F;&#x2F; renderer.</span><br><span class="line">    this.updater &#x3D; updater || ReactNoopUpdateQueue;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;props are assigned manually</span><br><span class="line">&#x2F;&#x2F; react-test-renderer-shallow</span><br><span class="line">_proto2._reset &#x3D; function _reset() &#123;</span><br><span class="line">    this._context &#x3D; null;		&#x2F;&#x2F; get the context</span><br><span class="line">    this._element &#x3D; null;		&#x2F;&#x2F; if the label is a normal HTML tag</span><br><span class="line">    this._instance &#x3D; null;	&#x2F;&#x2F; if the label is a component</span><br><span class="line">    &#x2F;&#x2F;...</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; get the type of element</span><br><span class="line">var elementType &#x3D; reactIs.isMemo(element) ? element.type.type : element.type;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; determine whether elementType is a construct</span><br><span class="line">if (shouldConstruct(elementType)) &#123;</span><br><span class="line">    &#x2F;&#x2F; the elementType is the passed in component, but there is still no props here</span><br><span class="line">    this._instance &#x3D; new elementType(element.props, this._context, this._updater);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;...</span><br><span class="line">    this._mountClassComponent(elementType, element, this._context);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; in this function, props are assigned manually</span><br><span class="line">_proto2._mountClassComponent &#x3D; function _mountClassComponent(elementType, element, context) &#123;</span><br><span class="line">    this._instance.context &#x3D; context;		&#x2F;&#x2F; Assign the value to the context of _instance</span><br><span class="line">    this._instance.props &#x3D; element.props;	&#x2F;&#x2F; Assign the value to the props of _instance</span><br><span class="line">    this._instance.state &#x3D; this._instance.state || null;</span><br><span class="line">    this._instance.updater &#x3D; this._updater;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; The overridden lifecycles function will be called here</span><br><span class="line">    if (typeof this._instance.UNSAFE_componentWillMount &#x3D;&#x3D;&#x3D; &#39;function&#39; || typeof this._instance.componentWillMount &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">        var beforeState &#x3D; this._newState; &#x2F;&#x2F; In order to support react-lifecycles-compat polyfilled components,</span><br><span class="line">        &#x2F;&#x2F; Unsafe lifecycles should not be invoked for components using the new APIs.</span><br><span class="line"></span><br><span class="line">        if (typeof elementType.getDerivedStateFromProps !&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof this._instance.getSnapshotBeforeUpdate !&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">            if (typeof this._instance.componentWillMount &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">                this._instance.componentWillMount();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (typeof this._instance.UNSAFE_componentWillMount &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">                this._instance.UNSAFE_componentWillMount();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; &#x2F;&#x2F; setState may have been called during cWM</span><br><span class="line"></span><br><span class="line">        if (beforeState !&#x3D;&#x3D; this._newState) &#123;</span><br><span class="line">            this._instance.state &#x3D; this._newState || emptyObject;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; props are assigined before the render function is executed</span><br><span class="line">    this._rendered &#x3D; this._instance.render(); &#x2F;&#x2F; Intentionally do not call componentDidMount()</span><br><span class="line">    &#x2F;&#x2F; because DOM refs are not available.</span><br><span class="line">&#125;;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>createElement</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; node_modules\react\cjs\react.development.js</span><br><span class="line">&#x2F;*</span><br><span class="line"> *type: div,p...</span><br><span class="line"> *config: name,className,style...</span><br><span class="line"> *children: array or ReactNode</span><br><span class="line">*&#x2F;</span><br><span class="line">function createElement(type, config, children) &#123;</span><br><span class="line">  var propName; &#x2F;&#x2F; Reserved names are extracted</span><br><span class="line">  var props &#x3D; &#123;&#125;;</span><br><span class="line">  var key &#x3D; null;</span><br><span class="line">  var ref &#x3D; null;</span><br><span class="line">  var self &#x3D; null;</span><br><span class="line">  var source &#x3D; null;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; keeping the configs</span><br><span class="line">  if (config !&#x3D; null) &#123;</span><br><span class="line">    if (hasValidRef(config)) &#123;</span><br><span class="line">      ref &#x3D; config.ref;</span><br><span class="line">      &#123;</span><br><span class="line">        warnIfStringRefCannotBeAutoConverted(config);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (hasValidKey(config)) &#123;</span><br><span class="line">      key &#x3D; &#39;&#39; + config.key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    self &#x3D; config.__self &#x3D;&#x3D;&#x3D; undefined ? null : config.__self;</span><br><span class="line">    source &#x3D; config.__source &#x3D;&#x3D;&#x3D; undefined ? null : config.__source; &#x2F;&#x2F; Remaining properties are added to a new props object</span><br><span class="line"></span><br><span class="line">    for (propName in config) &#123;</span><br><span class="line">      if (hasOwnProperty.call(config, propName) &amp;&amp; !RESERVED_PROPS.hasOwnProperty(propName)) &#123;</span><br><span class="line">        props[propName] &#x3D; config[propName];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; &#x2F;&#x2F; Children can be more than one argument, and those are transferred onto</span><br><span class="line">  &#x2F;&#x2F; the newly allocated props object.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  var childrenLength &#x3D; arguments.length - 2;</span><br><span class="line">  &#x2F;&#x2F; get the child</span><br><span class="line">  if (childrenLength &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">    props.children &#x3D; children;</span><br><span class="line">  &#125; else if (childrenLength &gt; 1) &#123;</span><br><span class="line">    &#x2F;&#x2F; get the children</span><br><span class="line">    var childArray &#x3D; Array(childrenLength);</span><br><span class="line">    for (var i &#x3D; 0; i &lt; childrenLength; i++) &#123;</span><br><span class="line">      childArray[i] &#x3D; arguments[i + 2];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">      &#x2F;&#x2F; Cannot modify the value of the object after Object.freeze(object)</span><br><span class="line">      if (Object.freeze) &#123;</span><br><span class="line">        Object.freeze(childArray);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    props.children &#x3D; childArray;</span><br><span class="line">  &#125; &#x2F;&#x2F; Resolve default props</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;...</span><br><span class="line">  return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>setState</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; node_modules\react\cjs\react.development.js</span><br><span class="line">&#x2F;&#x2F; setState function is mounted on the prototype chain of Component</span><br><span class="line">Component.prototype.setState &#x3D; function (partialState, callback) &#123;</span><br><span class="line">  this.updater.enqueueSetState(this, partialState, callback, &#39;setState&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; react-reconciler\src\ReactFiberClassComponent.js</span><br><span class="line">&#x2F;&#x2F; classComponentUpdater function</span><br><span class="line">const classComponentUpdater&#x3D;&#123;</span><br><span class="line">    enqueueSetState(inst, payload, callback) &#123;</span><br><span class="line">    const fiber &#x3D; getInstance(inst);</span><br><span class="line">    const currentTime &#x3D; requestCurrentTime();	&#x2F;&#x2F; return the different time accroding the different context</span><br><span class="line">    										&#x2F;&#x2F; like composite Event and setTimeout is different context</span><br><span class="line">    const suspenseConfig &#x3D; requestCurrentSuspenseConfig()</span><br><span class="line">    const expirationTime &#x3D; computeExpirationForFiber(currentTime, fiber, suspenseConfig); &#x2F;&#x2F; get the expiration time</span><br><span class="line">    &#x2F;&#x2F;...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; computeExpirationForFiber function</span><br><span class="line">function computeExpirationForFiber(currentTime, fiber, suspenseConfig) &#123;</span><br><span class="line">  &#x2F;&#x2F;...</span><br><span class="line">  if ((mode &amp; ConcurrentMode) &#x3D;&#x3D;&#x3D; NoMode) &#123;</span><br><span class="line">    return priorityLevel &#x3D;&#x3D;&#x3D; ImmediatePriority ? Sync : Batched;	&#x2F;&#x2F;  Sync ? setState is sync : setState is async</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F;...</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>setStateMerging</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; Data Merging</span><br><span class="line">&#x2F;&#x2F; packages\react-reconciler\src\ReactUpdateQueue.new.js</span><br><span class="line">&#x2F;&#x2F; update is a linked list structure</span><br><span class="line">export function enqueueUpdate&lt;State&gt;(fiber: Fiber, update: Update&lt;State&gt;) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  const sharedQueue: SharedQueue&lt;State&gt; &#x3D; (updateQueue: any).shared;</span><br><span class="line">  const pending &#x3D; sharedQueue.pending;</span><br><span class="line">  if (pending &#x3D;&#x3D;&#x3D; null) &#123;</span><br><span class="line">    &#x2F;&#x2F; This is the first update. Create a circular list.</span><br><span class="line">    update.next &#x3D; update;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    update.next &#x3D; pending.next;</span><br><span class="line">    pending.next &#x3D; update;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; setState Merging</span><br><span class="line">  do &#123;</span><br><span class="line">      &#x2F;&#x2F;...</span><br><span class="line">      &#x2F;&#x2F; Process this update.</span><br><span class="line">      newState &#x3D; getStateFromUpdate(</span><br><span class="line">          workInProgress,</span><br><span class="line">          queue,</span><br><span class="line">          update,</span><br><span class="line">          newState,</span><br><span class="line">          props,</span><br><span class="line">          instance,</span><br><span class="line">        )</span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">      &#x2F;&#x2F; Merging the setState use do while structure</span><br><span class="line">      update &#x3D; update.next;</span><br><span class="line">  &#125; while (true);</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  sharedQueue.pending &#x3D; update;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; getStateFromUpdate function return a newState</span><br><span class="line">case UpdateState: &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  &#x2F;&#x2F; Merge the partial state and the previous state.</span><br><span class="line">  return Object.assign(&#123;&#125;, prevState, partialState);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; pass in function</span><br><span class="line">case UpdateState: &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  if (typeof payload &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">    &#x2F;&#x2F; there will execute the function, so the prevState will change, not merging</span><br><span class="line">    partialState &#x3D; payload.call(instance, prevState, nextProps);</span><br><span class="line">	&#x2F;&#x2F; ...</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    &#x2F;&#x2F; Partial state object</span><br><span class="line">    partialState &#x3D; payload;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>shouldComponentUpdate</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">&#x2F;&#x2F; packages\react-reconciler\src\ReactFiberClassComponent.js</span><br><span class="line">function checkShouldComponentUpdate(</span><br><span class="line">  workInProgress,</span><br><span class="line">  ctor,</span><br><span class="line">  oldProps,</span><br><span class="line">  newProps,</span><br><span class="line">  oldState,</span><br><span class="line">  newState,</span><br><span class="line">  nextContext,</span><br><span class="line">) &#123;</span><br><span class="line">  const instance &#x3D; workInProgress.stateNode;</span><br><span class="line">  &#x2F;&#x2F; Call the rewritten shouldComponentUpdate function</span><br><span class="line">  if (typeof instance.shouldComponentUpdate &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">    const shouldUpdate &#x3D; instance.shouldComponentUpdate(</span><br><span class="line">      newProps,</span><br><span class="line">      newState,</span><br><span class="line">      nextContext,</span><br><span class="line">    );</span><br><span class="line">	&#x2F;&#x2F; ...</span><br><span class="line">    return shouldUpdate;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; If it&#39;s PureReactComponent, shallow comparison is made</span><br><span class="line">  if (ctor.prototype &amp;&amp; ctor.prototype.isPureReactComponent) &#123;</span><br><span class="line">    return (</span><br><span class="line">      !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; default return true</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; packages\react\src\ReactBaseClasses.js</span><br><span class="line">Component.prototype.isReactComponent &#x3D; &#123;&#125;;</span><br><span class="line">const pureComponentPrototype &#x3D; (PureComponent.prototype &#x3D; new ComponentDummy());</span><br><span class="line">pureComponentPrototype.isPureReactComponent &#x3D; true;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>shallowEqual</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">function shallowEqual(objA: mixed, objB: mixed): boolean &#123;</span><br><span class="line">  if (is(objA, objB)) &#123;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (</span><br><span class="line">    typeof objA !&#x3D;&#x3D; &#39;object&#39; ||</span><br><span class="line">    objA &#x3D;&#x3D;&#x3D; null ||</span><br><span class="line">    typeof objB !&#x3D;&#x3D; &#39;object&#39; ||</span><br><span class="line">    objB &#x3D;&#x3D;&#x3D; null</span><br><span class="line">  ) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const keysA &#x3D; Object.keys(objA);</span><br><span class="line">  const keysB &#x3D; Object.keys(objB);</span><br><span class="line"></span><br><span class="line">  if (keysA.length !&#x3D;&#x3D; keysB.length) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Test for A&#39;s keys different from B.</span><br><span class="line">  for (let i &#x3D; 0; i &lt; keysA.length; i++) &#123;</span><br><span class="line">    if (</span><br><span class="line">      !hasOwnProperty.call(objB, keysA[i]) ||</span><br><span class="line">      !is(objA[keysA[i]], objB[keysA[i]])</span><br><span class="line">    ) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>combineReducers</p>
                      <figure class="highlight plain">
                        <table>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line">function combineReducers(reducers) &#123;</span><br><span class="line">  var reducerKeys &#x3D; Object.keys(reducers);</span><br><span class="line">  var finalReducers &#x3D; &#123;&#125;;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; reducerKeys.length; i++) &#123;</span><br><span class="line">    var key &#x3D; reducerKeys[i];</span><br><span class="line">  &#125;</span><br><span class="line">  var finalReducerKeys &#x3D; Object.keys(finalReducers); &#x2F;&#x2F; This is used to make sure we don&#39;t warn about the same</span><br><span class="line">  &#x2F;&#x2F; keys multiple times.</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  return function combination(state, action) &#123;</span><br><span class="line">		&#x2F;&#x2F; ...</span><br><span class="line">    var hasChanged &#x3D; false;</span><br><span class="line">    var nextState &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    for (var _i &#x3D; 0; _i &lt; finalReducerKeys.length; _i++) &#123;</span><br><span class="line">      var _key &#x3D; finalReducerKeys[_i];</span><br><span class="line">      var reducer &#x3D; finalReducers[_key];</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; get the before and after value</span><br><span class="line">      var previousStateForKey &#x3D; state[_key];</span><br><span class="line">      var nextStateForKey &#x3D; reducer(previousStateForKey, action);</span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">      &#x2F;&#x2F; Determine if the two values are equal</span><br><span class="line">      nextState[_key] &#x3D; nextStateForKey;</span><br><span class="line">      hasChanged &#x3D; hasChanged || nextStateForKey !&#x3D;&#x3D; previousStateForKey;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hasChanged &#x3D; hasChanged || finalReducerKeys.length !&#x3D;&#x3D; Object.keys(state).length;</span><br><span class="line">    return hasChanged ? nextState : state;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre>
                            </td>
                          </tr>
                        </table>
                      </figure>
                    </li>
                  </ul>
                  <h1 id="Extral-Knowledge">
                    <a
                      href="#Extral-Knowledge"
                      class="headerlink"
                      title="Extral Knowledge"
                    ></a
                    >Extral Knowledge
                  </h1>
                  <h2 id="Label-Template-String">
                    <a
                      href="#Label-Template-String"
                      class="headerlink"
                      title="Label Template String"
                    ></a
                    >Label Template String
                  </h2>
                  <figure class="highlight html">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> name = <span class="string">&quot;SmallStars&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> age = <span class="number">18</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> message = <span class="string">`my name is <span class="subst">$&#123;name&#125;</span>`</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">...args</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(args);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(message);</span></span><br><span class="line"><span class="javascript">  test(<span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;bbb&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// it splits the string</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// [Array(3), &quot;SmallStars&quot;, 18]</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// [&quot;my name is &quot;, &quot;, my age is &quot;, &quot;&quot;, raw: Array(3)]</span></span></span><br><span class="line"><span class="javascript">  test<span class="string">`my name is <span class="subst">$&#123;name&#125;</span>, my age is <span class="subst">$&#123;age&#125;</span>`</span>;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>
                </div>

                <footer class="post-footer">
                  <div class="post-eof"></div>
                </footer>
              </article>

              <article
                itemscope
                itemtype="http://schema.org/Article"
                class="post-block"
                lang="en"
              >
                <link
                  itemprop="mainEntityOfPage"
                  href="http://example.com/2020/12/16/hello-world/"
                />

                <span
                  hidden
                  itemprop="author"
                  itemscope
                  itemtype="http://schema.org/Person"
                >
                  <meta
                    itemprop="image"
                    content="https://cdn.jsdelivr.net/gh/SmaIIstars/imgCDN/myBlog/MAP-DESK-1080 (197).jpg"
                  />
                  <meta itemprop="name" content="John Doe" />
                  <meta itemprop="description" content="" />
                </span>

                <span
                  hidden
                  itemprop="publisher"
                  itemscope
                  itemtype="http://schema.org/Organization"
                >
                  <meta itemprop="name" content="Hexo" />
                </span>
                <header class="post-header">
                  <h2 class="post-title" itemprop="name headline">
                    <a
                      href="/2020/12/16/hello-world/"
                      class="post-title-link"
                      itemprop="url"
                      >Hello World</a
                    >
                  </h2>

                  <div class="post-meta">
                    <span class="post-meta-item">
                      <span class="post-meta-item-icon">
                        <i class="far fa-calendar"></i>
                      </span>
                      <span class="post-meta-item-text">Posted on</span>

                      <time
                        title="Created: 2020-12-16 10:05:23"
                        itemprop="dateCreated datePublished"
                        datetime="2020-12-16T10:05:23+08:00"
                        >2020-12-16</time
                      >
                    </span>
                  </div>
                </header>

                <div class="post-body" itemprop="articleBody">
                  <p>
                    Welcome to
                    <a target="_blank" rel="noopener" href="https://hexo.io/"
                      >Hexo</a
                    >! This is your very first post. Check
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/"
                      >documentation</a
                    >
                    for more info. If you get any problems when using Hexo, you
                    can find the answer in
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/troubleshooting.html"
                      >troubleshooting</a
                    >
                    or you can ask me on
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://github.com/hexojs/hexo/issues"
                      >GitHub</a
                    >.
                  </p>
                  <h2 id="Quick-Start">
                    <a
                      href="#Quick-Start"
                      class="headerlink"
                      title="Quick Start"
                    ></a
                    >Quick Start
                  </h2>
                  <h3 id="Create-a-new-post">
                    <a
                      href="#Create-a-new-post"
                      class="headerlink"
                      title="Create a new post"
                    ></a
                    >Create a new post
                  </h3>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <p>
                    More info:
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/writing.html"
                      >Writing</a
                    >
                  </p>
                  <h3 id="Run-server">
                    <a
                      href="#Run-server"
                      class="headerlink"
                      title="Run server"
                    ></a
                    >Run server
                  </h3>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">$ hexo server</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <p>
                    More info:
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/server.html"
                      >Server</a
                    >
                  </p>
                  <h3 id="Generate-static-files">
                    <a
                      href="#Generate-static-files"
                      class="headerlink"
                      title="Generate static files"
                    ></a
                    >Generate static files
                  </h3>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">$ hexo generate</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <p>
                    More info:
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/generating.html"
                      >Generating</a
                    >
                  </p>
                  <h3 id="Deploy-to-remote-sites">
                    <a
                      href="#Deploy-to-remote-sites"
                      class="headerlink"
                      title="Deploy to remote sites"
                    ></a
                    >Deploy to remote sites
                  </h3>
                  <figure class="highlight bash">
                    <table>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line">$ hexo deploy</span><br></pre>
                        </td>
                      </tr>
                    </table>
                  </figure>

                  <p>
                    More info:
                    <a
                      target="_blank"
                      rel="noopener"
                      href="https://hexo.io/docs/one-command-deployment.html"
                      >Deployment</a
                    >
                  </p>
                </div>

                <footer class="post-footer">
                  <div class="post-eof"></div>
                </footer>
              </article>
            </div>

            <script>
              window.addEventListener("tabs:register", () => {
                let { activeClass } = CONFIG.comments;
                if (CONFIG.comments.storage) {
                  activeClass =
                    localStorage.getItem("comments_active") || activeClass;
                }
                if (activeClass) {
                  let activeTab = document.querySelector(
                    `a[href="#comment-${activeClass}"]`
                  );
                  if (activeTab) {
                    activeTab.click();
                  }
                }
              });
              if (CONFIG.comments.storage) {
                window.addEventListener("tabs:click", (event) => {
                  if (
                    !event.target.matches(
                      ".tabs-comment .tab-content .tab-pane"
                    )
                  )
                    return;
                  let commentClass = event.target.classList[1];
                  localStorage.setItem("comments_active", commentClass);
                });
              }
            </script>
          </div>

          <div class="toggle sidebar-toggle">
            <span class="toggle-line toggle-line-first"></span>
            <span class="toggle-line toggle-line-middle"></span>
            <span class="toggle-line toggle-line-last"></span>
          </div>

          <aside class="sidebar">
            <div class="sidebar-inner">
              <ul class="sidebar-nav motion-element">
                <li class="sidebar-nav-toc">Table of Contents</li>
                <li class="sidebar-nav-overview">Overview</li>
              </ul>

              <!--noindex-->
              <div class="post-toc-wrap sidebar-panel"></div>
              <!--/noindex-->

              <div class="site-overview-wrap sidebar-panel">
                <div
                  class="site-author motion-element"
                  itemprop="author"
                  itemscope
                  itemtype="http://schema.org/Person"
                >
                  <img
                    class="site-author-image"
                    itemprop="image"
                    alt="John Doe"
                    src="https://cdn.jsdelivr.net/gh/SmaIIstars/imgCDN/myBlog/MAP-DESK-1080 (197).jpg"
                  />
                  <p class="site-author-name" itemprop="name">John Doe</p>
                  <div class="site-description" itemprop="description"></div>
                </div>
                <div class="site-state-wrap motion-element">
                  <nav class="site-state">
                    <div class="site-state-item site-state-posts">
                      <a href="/archives/">
                        <span class="site-state-item-count">2</span>
                        <span class="site-state-item-name">posts</span>
                      </a>
                    </div>
                  </nav>
                </div>
              </div>
            </div>
          </aside>
          <div id="sidebar-dimmer"></div>
        </div>
      </main>

      <footer class="footer">
        <div class="footer-inner">
          <div class="copyright">
            &copy;
            <span itemprop="copyrightYear">2020</span>
            <span class="with-love">
              <i class="fa fa-heart"></i>
            </span>
            <span class="author" itemprop="copyrightHolder">John Doe</span>
          </div>

          <!--
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
-->

          <div class="busuanzi-count">
            <script
              async
              src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"
            ></script>
            <span
              class="post-meta-item"
              id="busuanzi_container_site_uv"
              style="display: none"
            >
              <span class="post-meta-item-icon">
                <i class="fa fa-user"></i>
              </span>
              <span class="site-uv" title="Total Visitors">
                <span id="busuanzi_value_site_uv"></span>
              </span>
            </span>
            <span class="post-meta-divider">|</span>
            <span
              class="post-meta-item"
              id="busuanzi_container_site_pv"
              style="display: none"
            >
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="site-pv" title="Total Views">
                <span id="busuanzi_value_site_pv"></span>
              </span>
            </span>
          </div>
        </div>
      </footer>
    </div>

    <script src="/lib/anime.min.js"></script>
    <script src="/lib/velocity/velocity.min.js"></script>
    <script src="/lib/velocity/velocity.ui.min.js"></script>

    <script src="/js/utils.js"></script>

    <script src="/js/motion.js"></script>

    <script src="/js/schemes/pisces.js"></script>

    <script src="/js/next-boot.js"></script>
  </body>
</html>
